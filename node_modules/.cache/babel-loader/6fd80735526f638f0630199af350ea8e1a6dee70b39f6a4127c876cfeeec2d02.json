{"ast":null,"code":"const assert = require('assert');\nmodule.exports = function (cv) {\n  // deprecate wrapper for the old calcHist API\n  const _calcHist = cv.calcHist;\n  cv.calcHist = function calcHist(img, histAxes, mask) {\n    assert(img instanceof cv.Mat, 'Imgproc::CalcHist - Error: expected argument 0 to be of type Mat');\n    assert(Array.isArray(histAxes), 'Imgproc::CalcHist - Error: expected argument 1 to be of type array of HistAxes');\n    histAxes = histAxes.slice();\n    let warningThrown = false;\n    const len = histAxes.length;\n    for (let i = 0; i < len; ++i) {\n      const entry = histAxes[i];\n      if (!(entry instanceof cv.HistAxes)) {\n        if (!warningThrown) {\n          warningThrown = true;\n          console.warn(`Imgproc::CalcHist - Deprecated support for object in argument 1 at index ${i}. Please switch to using HistAxes instances.`);\n        }\n        histAxes[i] = new cv.HistAxes(entry);\n      }\n    }\n    if (mask) {\n      return _calcHist(img, histAxes, mask);\n    }\n    return _calcHist(img, histAxes);\n  };\n};","map":{"version":3,"names":["assert","require","module","exports","cv","_calcHist","calcHist","img","histAxes","mask","Mat","Array","isArray","slice","warningThrown","len","length","i","entry","HistAxes","console","warn"],"sources":["C:/Users/Sagar/Desktop/Sensor/my-app/node_modules/opencv4nodejs/lib/src/deprecations.js"],"sourcesContent":["\r\nconst assert = require('assert');\r\n\r\nmodule.exports = function (cv) {\r\n\r\n  // deprecate wrapper for the old calcHist API\r\n  const _calcHist = cv.calcHist;\r\n  cv.calcHist = function calcHist(img, histAxes, mask) {\r\n    assert(img instanceof cv.Mat, 'Imgproc::CalcHist - Error: expected argument 0 to be of type Mat');\r\n    assert(Array.isArray(histAxes), 'Imgproc::CalcHist - Error: expected argument 1 to be of type array of HistAxes');\r\n\r\n    histAxes = histAxes.slice();\r\n\r\n    let warningThrown = false;\r\n    const len = histAxes.length;\r\n\r\n    for (let i = 0; i < len; ++i) {\r\n      const entry = histAxes[i];\r\n      if (!(entry instanceof cv.HistAxes)) {\r\n        if (!warningThrown) {\r\n          warningThrown = true;\r\n          console.warn(`Imgproc::CalcHist - Deprecated support for object in argument 1 at index ${i}. Please switch to using HistAxes instances.`);\r\n        }\r\n        histAxes[i] = new cv.HistAxes(entry);\r\n      }\r\n    }\r\n\r\n    if (mask) {\r\n      return _calcHist(img, histAxes, mask);\r\n    }\r\n    return _calcHist(img, histAxes);\r\n  };\r\n\r\n};\r\n"],"mappings":"AACA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAEhCC,MAAM,CAACC,OAAO,GAAG,UAAUC,EAAE,EAAE;EAE7B;EACA,MAAMC,SAAS,GAAGD,EAAE,CAACE,QAAQ;EAC7BF,EAAE,CAACE,QAAQ,GAAG,SAASA,QAAQA,CAACC,GAAG,EAAEC,QAAQ,EAAEC,IAAI,EAAE;IACnDT,MAAM,CAACO,GAAG,YAAYH,EAAE,CAACM,GAAG,EAAE,kEAAkE,CAAC;IACjGV,MAAM,CAACW,KAAK,CAACC,OAAO,CAACJ,QAAQ,CAAC,EAAE,gFAAgF,CAAC;IAEjHA,QAAQ,GAAGA,QAAQ,CAACK,KAAK,CAAC,CAAC;IAE3B,IAAIC,aAAa,GAAG,KAAK;IACzB,MAAMC,GAAG,GAAGP,QAAQ,CAACQ,MAAM;IAE3B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,GAAG,EAAE,EAAEE,CAAC,EAAE;MAC5B,MAAMC,KAAK,GAAGV,QAAQ,CAACS,CAAC,CAAC;MACzB,IAAI,EAAEC,KAAK,YAAYd,EAAE,CAACe,QAAQ,CAAC,EAAE;QACnC,IAAI,CAACL,aAAa,EAAE;UAClBA,aAAa,GAAG,IAAI;UACpBM,OAAO,CAACC,IAAI,CAAE,4EAA2EJ,CAAE,8CAA6C,CAAC;QAC3I;QACAT,QAAQ,CAACS,CAAC,CAAC,GAAG,IAAIb,EAAE,CAACe,QAAQ,CAACD,KAAK,CAAC;MACtC;IACF;IAEA,IAAIT,IAAI,EAAE;MACR,OAAOJ,SAAS,CAACE,GAAG,EAAEC,QAAQ,EAAEC,IAAI,CAAC;IACvC;IACA,OAAOJ,SAAS,CAACE,GAAG,EAAEC,QAAQ,CAAC;EACjC,CAAC;AAEH,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}